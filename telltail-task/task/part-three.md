# Третье задание

В третьем задании приложение перезжает на React и перестаёт быть анонимным. 

- [Новые требования к приложению](#%D0%BD%D0%BE%D0%B2%D1%8B%D0%B5-%D1%82%D1%80%D0%B5%D0%B1%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D0%BA-%D0%BF%D1%80%D0%B8%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%B8%D1%8E)
- [Макет](#%D0%BC%D0%B0%D0%BA%D0%B5%D1%82)
  - [Страница входа](#%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0-%D0%B2%D1%85%D0%BE%D0%B4%D0%B0)
  - [Страница регистрации](#%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D0%B0-%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D0%B8)
  - [Шапка для неавторизованных пользователей](#%D1%88%D0%B0%D0%BF%D0%BA%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%BD%D0%B5%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9)
  - [Шапка для авторизованных пользователей](#%D1%88%D0%B0%D0%BF%D0%BA%D0%B0-%D0%B4%D0%BB%D1%8F-%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9)
  - [Изменения в списке приключений](#%D0%B8%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F-%D0%B2-%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B5-%D0%BF%D1%80%D0%B8%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B9)
- [Ограничения по технологиям](#%D0%BE%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%D0%BC)

## Новые требования к приложению

*Во-первых*, вместо handlebars и чистого JavaScript **необходимо использовать React** для организации всего клиентского кода. При этом можно выбрать любые сопутствующие библиотеки: Redux, React Router, Redux Saga – на ваше усмотрение.

Для этого текущий код необходимо смигрировать. 

Мы выложили пример приложения «Заметки» на стеке React:  
https://github.com/urfu-2018/notes-app-example/

В отдельном коммите можно посмотреть как приложение было смигрировано на React:  
https://github.com/urfu-2018/notes-app-example/commit/44bd0876ed952dd812553133ffa338294e2e0feb

*Во-вторых*, реализовать новую функциональность:

* Добавить **страницу регистрации пользователя**
  * На странице форма с полями для ввода логина, пароля и выбора аватарки
  * Необходимо проверять, что поля ввода логина и пароля заполнены
  * Пароль может быть любым
  * Логин может содержать только символы «a-Z», «0-9» и «-»
  * При неверном вводе логина или пароля необходимо вывести сообщение об ошибке
  * Аватарка может быть не выбрана
  * При сохранении необходимо создать учётную запись пользователя, авторизовать его и перезагрузить страницу, отправив нового пользователя на *главную страницу*
  * Должна быть недоступна для авторизованных пользователей

* Добавить **страницу входа пользователя**
  * На странице форма с полями для ввода логина и пароля
  * При неверном вводе логина и пароля необходимо вывести сообщение об ошибке
  * При верном вводе необходимо авторизовать пользователя и перезагрузить страницу, отправив его на *главную страницу*
  * Должна быть недоступна для авторизованных пользователей

* Для **неавторизованных** пользователей в шапке вывести две кнопки – «Зарегистрироваться» и «Войти»

* Для **авторизованных** пользователей в шапке вывести его аватар, логин и кнопку «Выйти»   
  * При нажатии на «Выход» необходимо разлогнить пользователя и отправить его страницу входа
  * Если у пользователя нет аватарки необходимо вывести изображение по умолчанию на ваш выбор

* На **финальной сцене** фиксировать факт прохождения конкретного приключения пользователем
  * Факт не должен фиксировать для анонимных пользователей 
  * Факт может фиксироваться несколько раз – пользователь может пройти приключение 2 и более раз
  * На странице списка приключений под описанием приключения необходимо вывести аватарки всех пользователей прошедших его с указанием количества прохождений. Если прохождение одно – счётчик прохождений не выводится, только аватар
  * При наведении на аватар пользователя показываем его логин во всплывающей подсказке

## Макет

### Страница входа 

<img width="504" alt="page-signin" src="https://user-images.githubusercontent.com/4534405/57737751-323d6f80-76c6-11e9-8c99-f517f0285b13.png">

### Страница регистрации

<img width="504" alt="page-signup" src="https://user-images.githubusercontent.com/4534405/57737752-32d60600-76c6-11e9-80ce-3b191bcf382a.png">

### Шапка для неавторизованных пользователей

<img width="508" alt="header-signin" src="https://user-images.githubusercontent.com/4534405/57737748-323d6f80-76c6-11e9-9f39-9bcbc4b3100f.png">

### Шапка для авторизованных пользователей

<img width="507" alt="header-username" src="https://user-images.githubusercontent.com/4534405/57737749-323d6f80-76c6-11e9-933e-c2002b1d1412.png">

### Изменения в списке приключений

<img width="391" alt="adventure-users" src="https://user-images.githubusercontent.com/4534405/57739114-b6debc80-76cb-11e9-8d0c-b4a4d0e25e23.png">


## Ограничения по технологиям

Третья версия приложения должна быть построена на [тех же технологиях, что и первая](https://github.com/urfu-2018/telltail/blob/master/task/part-one.md#%D0%BE%D0%B3%D1%80%D0%B0%D0%BD%D0%B8%D1%87%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D1%82%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D1%8F%D0%BC) с одним исключением.

Вместо handlebars и чистого JavaScript **необходимо использовать React** для организации всего клиентского кода. При этом можно выбрать любые сопутствующие библиотеки: Redux, React Router, Redux Saga – на ваше усмотрение.
